(function(t){function e(e){for(var i,a,o=e[0],h=e[1],u=e[2],l=0,p=[];l<o.length;l++)a=o[l],s[a]&&p.push(s[a][0]),s[a]=0;for(i in h)Object.prototype.hasOwnProperty.call(h,i)&&(t[i]=h[i]);c&&c(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var h=n[o];0!==s[h]&&(i=!1)}i&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},s={1:0},r=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],h=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=h;r.push([2,0]),n()})({2:function(t,e,n){t.exports=n("Vtdi")},EDI0:function(t,e,n){},Vtdi:function(t,e,n){"use strict";n.r(e);n("VRzm");var i=n("Kw5r"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("MhPicker",{attrs:{index:t.pickerIndex,content:t.pickerContent},on:{change:t.pickChange},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.item.name))])]}}])})],1)},r=[],a=(n("bHtr"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mh-picker"},[n("div",{staticClass:"mh-picker__mask"}),n("div",{staticClass:"mh-picker__indicator"}),n("div",{staticClass:"mh-picker__content",class:{hastransition:t.hastransition},style:{transform:"translate3d(0px, "+t.translateY+"px, 0px)"}},t._l(t.content,function(e,i){return n("div",{key:i,staticClass:"mh-picker__content__item",class:{"mh-picker_item_active":i===t.currentIndex}},[t._t("default",[t._v(t._s(e))],{item:e})],2)}))])}),o=[],h=(n("a1Th"),n("91GP"),n("a94B")),u=(n("xfY5"),n("k5N+")),c=n("xmWZ"),l=n("3Aqn"),p=n("qpph"),d=n("0yhX"),f=n("EdlT"),m=(n("yt8O"),n("RW0V"),n("rGqo"),function(){function t(){Object(c["a"])(this,t),this.name="Emitter",this._events={}}return Object(p["a"])(t,[{key:"on",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2?arguments[2]:void 0;return this._events[t]||(this._events[t]=[]),this._events[t].push({type:t,callback:e,context:n}),this}},{key:"emit",value:function(t){var e=this._events[t]||null;if(e){var n=0,i=e.length;if(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];for(;n<i;n++)e[n].callback.apply(e[n].context||this,r)}}}},{key:"off",value:function(t,e){if(this._events[t]){var n=this._events[t].indexOf(e);n>-1&&this._events[t].splice(n,1)}}},{key:"clear",value:function(t){t?delete this._events[t]:this._events={}}}]),t}()),v=m,y=function(){function t(e){Object(c["a"])(this,t),this.name="TouchGesture",this.emitter=null,this.element="string"===typeof e?document.querySelector(e):e,this.startX=null,this.startY=null,this.moveX=null,this.moveY=null,this.startTime=null,this.thresholdVal=10,this.swipeDirection="",this.isMove=!1,this.bindEvents()}return Object(p["a"])(t,[{key:"on",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.emitter.on(t,e)}},{key:"emit",value:function(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];(e=this.emitter).emit.apply(e,[t].concat(i))}},{key:"_touchStart",value:function(t){this.isMove=!1,t&&t.preventDefault(),t&&t.stopPropagation();var e=t.touches?t.touches[0]:t;this.startX=e.pageX,this.startY=e.pageY,this.moveX=this.startX,this.moveY=this.startY,this.startTime=Date.now(),this.emitter.emit("touchstart",{startPoint:e,startTime:this.startTime})}},{key:"_touchMove",value:function(t){var e=t.touches?t.touches[0]:t;this.isMove=!0,t&&t.preventDefault(),t&&t.stopPropagation(),Math.abs(e.pageX-this.startX)<this.thresholdVal&&Math.abs(e.pageY-this.startY)<this.thresholdVal||(this.emitter.emit("touchmove",{differenceX:e.pageX-this.startX,differenceY:e.pageY-this.startY,distX:e.pageX-this.moveX,distY:e.pageY-this.moveY,movePoint:e,moveTime:Date.now()}),this.moveX=e.pageX,this.moveY=e.pageY)}},{key:"_touchEnd",value:function(t){this.isMove&&(t&&t.preventDefault(),t&&t.stopPropagation());var e=Date.now(),n=t.changedTouches?t.changedTouches[0]:t,i=n.pageX-this.startX,s=n.pageY-this.startY,r=Math.abs(i),a=Math.abs(s);if(r>this.thresholdVal||a>this.thresholdVal){this.swipeDirection=r>=a?i<0?"Left":"Right":s<0?"Up":"Down";var o={swipeDirection:this.swipeDirection,startPoint:{x:this.startX,y:this.startY},endPoint:{x:n.pageX,y:n.pageY},timeCost:e-this.startTime,endTime:e};this.emitter.emit("swipe".concat(this.swipeDirection),o),this.emitter.emit("swipe",o),this.emitter.emit("touchend",o)}else this.emitter.emit("tap")}},{key:"_touchCancel",value:function(t){this._touchEnd(t)}},{key:"handleEvent",value:function(t){switch(t.type){case"touchstart":this._touchStart(t);break;case"touchmove":this._touchMove(t);break;case"touchend":this._touchEnd(t);break;default:console.log("发现未捕获事件");break}}},{key:"bindEvents",value:function(){var t=this;if(this.element){var e={touchstart:{capture:!1},touchmove:{capture:!1},touchend:{capture:!0},touchcancel:{capture:!1}};Object.keys(e).forEach(function(n){t.element.addEventListener(n,t,e[n].capture)}),this.emitter||(this.emitter=new v)}}}]),t}(),b=y,g={Linear:function(t,e,n,i){return n*t/i+e},Quad:{easeIn:function(t,e,n,i){return n*(t/=i)*t+e},easeOut:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}},Cubic:{easeIn:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOut:function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}},Quart:{easeIn:function(t,e,n,i){return n*(t/=i)*t*t*t+e},easeOut:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e}},Quint:{easeIn:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},easeOut:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}},Sine:{easeIn:function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOut:function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},easeInOut:function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e}},Expo:{easeIn:function(t,e,n,i){return 0==t?e:n*Math.pow(2,10*(t/i-1))+e},easeOut:function(t,e,n,i){return t==i?e+n:n*(1-Math.pow(2,-10*t/i))+e},easeInOut:function(t,e,n,i){return 0==t?e:t==i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e}},Circ:{easeIn:function(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOut:function(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e}},Elastic:{easeIn:function(t,e,n,i,s,r){var a;return 0==t?e:1==(t/=i)?e+n:("undefined"==typeof r&&(r=.3*i),!s||s<Math.abs(n)?(a=r/4,s=n):a=r/(2*Math.PI)*Math.asin(n/s),-s*Math.pow(2,10*(t-=1))*Math.sin((t*i-a)*(2*Math.PI)/r)+e)},easeOut:function(t,e,n,i,s,r){var a;return 0==t?e:1==(t/=i)?e+n:("undefined"==typeof r&&(r=.3*i),!s||s<Math.abs(n)?(s=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/s),s*Math.pow(2,-10*t)*Math.sin((t*i-a)*(2*Math.PI)/r)+n+e)},easeInOut:function(t,e,n,i,s,r){var a;return 0==t?e:2==(t/=i/2)?e+n:("undefined"==typeof r&&(r=i*(.3*1.5)),!s||s<Math.abs(n)?(s=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/s),t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t*i-a)*(2*Math.PI)/r)*-.5+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*i-a)*(2*Math.PI)/r)*.5+n+e)}},Back:{easeIn:function(t,e,n,i,s){return"undefined"==typeof s&&(s=1.70158),n*(t/=i)*t*((s+1)*t-s)+e},easeOut:function(t,e,n,i,s){return"undefined"==typeof s&&(s=1.70158),n*((t=t/i-1)*t*((s+1)*t+s)+1)+e},easeInOut:function(t,e,n,i,s){return"undefined"==typeof s&&(s=1.70158),(t/=i/2)<1?n/2*(t*t*((1+(s*=1.525))*t-s))+e:n/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+e}},Bounce:{easeIn:function(t,e,n,i){return n-g.Bounce.easeOut(i-t,0,n,i)+e},easeOut:function(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOut:function(t,e,n,i){return t<i/2?.5*g.Bounce.easeIn(2*t,0,n,i)+e:.5*g.Bounce.easeOut(2*t-i,0,n,i)+.5*n+e}}},k=g,M=function(){function t(e){Object(c["a"])(this,t),this.ease=k[e.ease||"Quart"],this.b=e.b||0,this.c=e.c||0,this.d=e.d||0,this.isSport=!1,this.rAFId=null,this.emitter=new v}return Object(p["a"])(t,[{key:"setOptions",value:function(t){this.isSport||(this.b=t.b||0,this.c=t.c||0,this.d=t.d||0)}},{key:"start",value:function(){var t=this;if(!this.isSport){this.isSport=!0;var e=null;window.requestAnimationFrame(n)}function n(i){e||(e=i);var s=i-e;if(s<=t.d){var r=t.ease.easeOut(s,t.b,t.c,t.d);t.emitter.emit("sporting",Math.ceil(r)),t.rAFId=window.requestAnimationFrame(n)}else t.stop()}}},{key:"stop",value:function(){this.isSport&&(window.cancelAnimationFrame(this.rAFId),this.isSport=!1,this.emitter.emit("sportend"))}}]),t}(),_=M,x=function(t){function e(t,n){var i;return Object(c["a"])(this,e),i=Object(d["a"])(this,Object(f["a"])(e).call(this,t)),i.name="InertialMotion",i.customOps=n,i.sport=null,i.keyPoints=[],i.direction=n.direction||"y",i.acceleration=n.acceleration||9e-4,i.maxSportThreshold=n.maxSportThreshold||null,i.minSportThreshold=n.minSportThreshold||null,i.sportInitValue=n.sportInitValue||null,i.velocityThreshold=.2,i._initEvent(),i}return Object(p["a"])(e,[{key:"_getDistanceAndTime",value:function(t){var n=Math.abs(t*t/(2*this.acceleration)),i=t>0?this.maxSportThreshold:this.minSportThreshold;return e.helpScalar(i,this.acceleration,this.sportInitValue,n,t)}},{key:"_getVelocity",value:function(t){var e=0;return e="x"===this.direction?t.x/t.time:t.y/t.time,Math.abs(e)<=this.velocityThreshold&&(e=0),e=Number(e.toFixed(2)),e}},{key:"_updateKeyPoints",value:function(t){var e,n;this.keyPoints.push(t);while(this.keyPoints.length>0){e=this.keyPoints[this.keyPoints.length-1];var i=Object(u["a"])(this.keyPoints,1);n=i[0];var s=e.time-n.time;if(!(s>300))break;this.keyPoints.shift()}return{x:e.x-n.x,y:e.y-n.y,time:e.time-n.time}}},{key:"_inertiaMove",value:function(t){var e=this,n=t.b+t.c;(n<=this.minSportThreshold||n>=this.maxSportThreshold)&&(t.ease="Back"),this.sport?this.sport.setOptions(t):(this.sport=new _(t),this.sport.emitter.on("sporting",function(t){e.emit("animationChange",t)}),this.sport.emitter.on("sportend",function(){e.emit("animationEnd")})),this.sport.start()}},{key:"_initEvent",value:function(){var t=this;this.on("touchstart",function(e){t.sport&&t.sport.stop(),t.keyPoints=[],t._updateKeyPoints({x:e.startPoint.pageX,y:e.startPoint.pageY,time:e.startTime})}),this.on("touchmove",function(e){t._updateKeyPoints({x:e.movePoint.pageX,y:e.movePoint.pageY,time:e.moveTime})}),this.on("touchend",function(e){var n=t._updateKeyPoints({x:e.endPoint.x,y:e.endPoint.y,time:e.endTime});if(n.time>300||0===n.time)t.emit("animationEnd");else{var i=t._getVelocity(n);if(0!==i){t.emit("beforeAnimation",e);var s=t._getDistanceAndTime(i);0!==s.inertiaDistance&&0!==s.inertiaTime?t._inertiaMove({b:t.sportInitValue,c:i>0?s.inertiaDistance:-s.inertiaDistance,d:s.inertiaTime}):t.emit("animationEnd")}else t.emit("animationEnd")}})}}],[{key:"helpScalar",value:function(t,e,n,i,s){var r,a;if(void 0===t||null===t)r=Number(Math.abs(s/e).toFixed(2)),a=Math.floor(i);else{var o=Math.abs(t-n);i>o?(r=Math.abs(o/s),a=o):(r=Math.abs(s/e),a=i),a=Math.ceil(a),r=Number(r.toFixed(2))}return{inertiaDistance:a,inertiaTime:r}}}]),Object(l["a"])(e,t),e}(b),I=x,O={name:"Picker",props:{index:Number,content:{type:Array,default:[]}},data:function(){return{hastransition:!1,translateY:0,maxSportThreshold:null,minSportThreshold:null,picker:null,currentIndex:this.index,oldIndex:this.index,itemHeight:0}},methods:{handleEnd:function(){var t=this;try{this.hastransition=!0;var e=Math.round(this.translateY/this.itemHeight);if(this.translateY=e*this.itemHeight,this.currentIndex=Math.abs(e-3),this.currentIndex!==this.oldIndex){var n=this.content[this.currentIndex];this.$emit("change",{index:this.currentIndex,val:"object"===Object(h["a"])(n)?Object.assign({},n):n})}this.oldIndex=this.currentIndex,setTimeout(function(){t.hastransition=!1},100)}catch(t){console.log(t.toString())}},setOps:function(){this.content.length<this.currentIndex+1&&(this.currentIndex=0,this.oldIndex=0);var t=this.$el.querySelector(".mh-picker__content__item");this.itemHeight=t.getBoundingClientRect().height,this.translateY=(3-this.currentIndex)*this.itemHeight,this.maxSportThreshold=3*this.itemHeight,this.minSportThreshold=-(this.content.length-4)*this.itemHeight},bindEvents:function(){var t=this;this.picker=new I(this.$el,{maxSportThreshold:this.maxSportThreshold,minSportThreshold:this.minSportThreshold}),this.picker.on("touchmove",function(e){var n=t.translateY+e.distY;n>=t.minSportThreshold&&n<=t.maxSportThreshold&&(t.translateY=n)}),this.picker.on("beforeAnimation",function(){t.picker.sportInitValue=t.translateY}),this.picker.on("animationChange",function(e){t.translateY=e}),this.picker.on("animationEnd",this.handleEnd.bind(this)),this.picker.on("tap",this.handleEnd.bind(this))},init:function(){this.setOps(),this.bindEvents()}},mounted:function(){this.content.length>0&&this.init()}},P=O,w=(n("ubzp"),n("KHd+")),T=Object(w["a"])(P,a,o,!1,null,null,null),S=T.exports,Y={data:function(){return{pickerIndex:0,pickerContent:Array(300).fill({name:"picker"})}},name:"app",components:{MhPicker:S},methods:{pickChange:function(t){console.log(t)}}},j=Y,E=(n("ZL7j"),Object(w["a"])(j,s,r,!1,null,null,null)),D=E.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(D)}}).$mount("#app")},ZL7j:function(t,e,n){"use strict";var i=n("EDI0"),s=n.n(i);s.a},jDWD:function(t,e,n){},ubzp:function(t,e,n){"use strict";var i=n("jDWD"),s=n.n(i);s.a}});
//# sourceMappingURL=app.9bd9975e.js.map